services:
  comfy:
    build: ./
    image: quinninc/comfy:2.2.0-runpod
    container_name: comfy
    privileged: true
    runtime: nvidia
    network_mode: "host"
    volumes:
      # mount output folder so you can see output files
      - ./output:/comfyui/output
      # mount 'volume/localmount' to act as a runpod volume clone
      - ./volume:/runpod-volume
      # mount test_input.json so we dont need to rebuild if just changing that
      - ./examples/test_input.json:/test_input.json
    environment:
      - ENV=development
      - NVIDIA_VISIBLE_DEVICES=all
